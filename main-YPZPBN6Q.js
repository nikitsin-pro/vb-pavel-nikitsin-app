import{a as D,b as j,d as ct,e as G,f as se,g as oe,h as ae,i as ce,j as ut,k as ue,l as le,m as pe,n as he,o as fe,s as de,y as me}from"./chunk-RMRZQJ42.js";import{$ as $t,Aa as Zt,Da as Xt,Ea as Wt,Fa as Qt,G as zt,Ga as st,H as kt,Ha as Jt,Ia as Yt,J as Ft,Ja as ot,K as rt,Ka as at,L as _,Ma as te,N as k,Na as ee,O as P,P as C,Q as S,Qa as ie,R as $,Ra as ne,S as B,T as Ut,Ta as re,Ua as F,V as H,W as Lt,Y as _t,a as x,aa as Bt,b,d as et,g as xt,i as Ct,ia as Ht,j as bt,ja as Gt,k as Nt,ka as Vt,m as it,p as wt,q as N,t as nt,u as M,ua as Kt,v as Mt,w as Pt,x as Dt,y as jt,ya as qt}from"./chunk-EVQQARIZ.js";var L="PERFORM_ACTION",ni="REFRESH",Re="RESET",ve="ROLLBACK",Oe="COMMIT",Te="SWEEP",xe="TOGGLE_ACTION",ri="SET_ACTIONS_ACTIVE",Ce="JUMP_TO_STATE",be="JUMP_TO_ACTION",Rt="IMPORT_STATE",Ne="LOCK_CHANGES",we="PAUSE_RECORDING",z=class{constructor(t,s){if(this.action=t,this.timestamp=s,this.type=L,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},lt=class{constructor(){this.type=ni}},pt=class{constructor(t){this.timestamp=t,this.type=Re}},ht=class{constructor(t){this.timestamp=t,this.type=ve}},ft=class{constructor(t){this.timestamp=t,this.type=Oe}},dt=class{constructor(){this.type=Te}},mt=class{constructor(t){this.id=t,this.type=xe}};var gt=class{constructor(t){this.index=t,this.type=Ce}},Et=class{constructor(t){this.actionId=t,this.type=be}},St=class{constructor(t){this.nextLiftedState=t,this.type=Rt}},yt=class{constructor(t){this.status=t,this.type=Ne}},At=class{constructor(t){this.status=t,this.type=we}};var Z=new C("@ngrx/store-devtools Options"),ge=new C("@ngrx/store-devtools Initial Config");function Me(){return null}var si="NgRx Store DevTools";function oi(e){let t={maxAge:!1,monitor:Me,actionSanitizer:void 0,stateSanitizer:void 0,name:si,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},s=typeof e=="function"?e():e,i=s.logOnly?{pause:!0,export:!0,test:!0}:!1,n=s.features||i||t.features;n.import===!0&&(n.import="custom");let r=Object.assign({},t,{features:n},s);if(r.maxAge&&r.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${r.maxAge}`);return r}function Ee(e,t){return e.filter(s=>t.indexOf(s)<0)}function Pe(e){let{computedStates:t,currentStateIndex:s}=e;if(s>=t.length){let{state:n}=t[t.length-1];return n}let{state:i}=t[s];return i}function U(e){return new z(e,+Date.now())}function ai(e,t){return Object.keys(t).reduce((s,i)=>{let n=Number(i);return s[n]=De(e,t[n],n),s},{})}function De(e,t,s){return b(x({},t),{action:e(t.action,s)})}function ci(e,t){return t.map((s,i)=>({state:je(e,s.state,i),error:s.error}))}function je(e,t,s){return e(t,s)}function ze(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function ui(e,t,s,i){let n=[],r={},l=[];return e.stagedActionIds.forEach((u,g)=>{let p=e.actionsById[u];p&&(g&&vt(e.computedStates[g],p,t,s,i)||(r[u]=p,n.push(u),l.push(e.computedStates[g])))}),b(x({},e),{stagedActionIds:n,actionsById:r,computedStates:l})}function vt(e,t,s,i,n){let r=s&&!s(e,t.action),l=i&&!t.action.type.match(i.map(g=>Se(g)).join("|")),u=n&&t.action.type.match(n.map(g=>Se(g)).join("|"));return r||l||u}function Se(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ke(e){return{ngZone:e?$(Bt):null,connectInZone:e}}var X=(()=>{let t=class t extends G{};t.\u0275fac=(()=>{let i;return function(r){return(i||(i=_t(t)))(r||t)}})(),t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),V={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},It=new C("@ngrx/store-devtools Redux Devtools Extension"),Fe=(()=>{let t=class t{constructor(i,n,r){this.config=n,this.dispatcher=r,this.zoneConfig=ke(this.config.connectInZone),this.devtoolsExtension=i,this.createActionStreams()}notify(i,n){if(this.devtoolsExtension)if(i.type===L){if(n.isLocked||n.isPaused)return;let r=Pe(n);if(ze(this.config)&&vt(r,i,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let l=this.config.stateSanitizer?je(this.config.stateSanitizer,r,n.currentStateIndex):r,u=this.config.actionSanitizer?De(this.config.actionSanitizer,i,n.nextActionId):i;this.sendToReduxDevtools(()=>this.extensionConnection.send(u,l))}else{let r=b(x({},n),{stagedActionIds:n.stagedActionIds,actionsById:this.config.actionSanitizer?ai(this.config.actionSanitizer,n.actionsById):n.actionsById,computedStates:this.config.stateSanitizer?ci(this.config.stateSanitizer,n.computedStates):n.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new et(i=>{let n=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=n,n.init(),n.subscribe(r=>i.next(r)),n.unsubscribe}):bt}createActionStreams(){let i=this.createChangesObservable().pipe(kt()),n=i.pipe(M(a=>a.type===V.START)),r=i.pipe(M(a=>a.type===V.STOP)),l=i.pipe(M(a=>a.type===V.DISPATCH),N(a=>this.unwrapAction(a.payload)),Pt(a=>a.type===Rt?this.dispatcher.pipe(M(o=>o.type===ut),wt(1e3),Dt(1e3),N(()=>a),Mt(()=>it(a)),jt(1)):it(a))),g=i.pipe(M(a=>a.type===V.ACTION),N(a=>this.unwrapAction(a.payload))).pipe(_(r)),p=l.pipe(_(r));this.start$=n.pipe(_(r)),this.actions$=this.start$.pipe(rt(()=>g)),this.liftedActions$=this.start$.pipe(rt(()=>p))}unwrapAction(i){return typeof i=="string"?(0,eval)(`(${i})`):i}getExtensionConfig(i){let n={name:i.name,features:i.features,serialize:i.serialize,autoPause:i.autoPause??!1,trace:i.trace??!1,traceLimit:i.traceLimit??75};return i.maxAge!==!1&&(n.maxAge=i.maxAge),n}sendToReduxDevtools(i){try{i()}catch(n){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",n)}}};t.\u0275fac=function(n){return new(n||t)(S(It),S(Z),S(X))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),q={type:ct},li="@ngrx/store-devtools/recompute",pi={type:li};function Ue(e,t,s,i,n){if(i)return{state:s,error:"Interrupted by an error up the chain"};let r=s,l;try{r=e(s,t)}catch(u){l=u.toString(),n.handleError(u)}return{state:r,error:l}}function K(e,t,s,i,n,r,l,u,g){if(t>=e.length&&e.length===r.length)return e;let p=e.slice(0,t),a=r.length-(g?1:0);for(let o=t;o<a;o++){let d=r[o],A=n[d].action,h=p[o-1],c=h?h.state:i,R=h?h.error:void 0,v=l.indexOf(d)>-1?h:Ue(s,A,c,R,u);p.push(v)}return g&&p.push(e[e.length-1]),p}function hi(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:U(q)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function fi(e,t,s,i,n={}){return r=>(l,u)=>{let{monitorState:g,actionsById:p,nextActionId:a,stagedActionIds:o,skippedActionIds:d,committedState:A,currentStateIndex:h,computedStates:c,isLocked:R,isPaused:y}=l||t;l||(p=Object.create(p));function v(E){let m=E,T=o.slice(1,m+1);for(let I=0;I<T.length;I++)if(c[I+1].error){m=I,T=o.slice(1,m+1);break}else delete p[T[I]];d=d.filter(I=>T.indexOf(I)===-1),o=[0,...o.slice(m+1)],A=c[m].state,c=c.slice(m),h=h>m?h-m:0}function w(){p={0:U(q)},a=1,o=[0],d=[],A=c[h].state,h=0,c=[]}let f=0;switch(u.type){case Ne:{R=u.status,f=1/0;break}case we:{y=u.status,y?(o=[...o,a],p[a]=new z({type:"@ngrx/devtools/pause"},+Date.now()),a++,f=o.length-1,c=c.concat(c[c.length-1]),h===o.length-2&&h++,f=1/0):w();break}case Re:{p={0:U(q)},a=1,o=[0],d=[],A=e,h=0,c=[];break}case Oe:{w();break}case ve:{p={0:U(q)},a=1,o=[0],d=[],h=0,c=[];break}case xe:{let{id:E}=u;d.indexOf(E)===-1?d=[E,...d]:d=d.filter(T=>T!==E),f=o.indexOf(E);break}case ri:{let{start:E,end:m,active:T}=u,I=[];for(let tt=E;tt<m;tt++)I.push(tt);T?d=Ee(d,I):d=[...d,...I],f=o.indexOf(E);break}case Ce:{h=u.index,f=1/0;break}case be:{let E=o.indexOf(u.actionId);E!==-1&&(h=E),f=1/0;break}case Te:{o=Ee(o,d),d=[],h=Math.min(h,o.length-1);break}case L:{if(R)return l||t;if(y||l&&vt(l.computedStates[h],u,n.predicate,n.actionsSafelist,n.actionsBlocklist)){let m=c[c.length-1];c=[...c.slice(0,-1),Ue(r,u.action,m.state,m.error,s)],f=1/0;break}n.maxAge&&o.length===n.maxAge&&v(1),h===o.length-1&&h++;let E=a++;p[E]=u,o=[...o,E],f=o.length-1;break}case Rt:{({monitorState:g,actionsById:p,nextActionId:a,stagedActionIds:o,skippedActionIds:d,committedState:A,currentStateIndex:h,computedStates:c,isLocked:R,isPaused:y}=u.nextLiftedState);break}case ct:{f=0,n.maxAge&&o.length>n.maxAge&&(c=K(c,f,r,A,p,o,d,s,y),v(o.length-n.maxAge),f=1/0);break}case ut:{if(c.filter(m=>m.error).length>0)f=0,n.maxAge&&o.length>n.maxAge&&(c=K(c,f,r,A,p,o,d,s,y),v(o.length-n.maxAge),f=1/0);else{if(!y&&!R){h===o.length-1&&h++;let m=a++;p[m]=new z(u,+Date.now()),o=[...o,m],f=o.length-1,c=K(c,f,r,A,p,o,d,s,y)}c=c.map(m=>b(x({},m),{state:r(m.state,pi)})),h=o.length-1,n.maxAge&&o.length>n.maxAge&&v(o.length-n.maxAge),f=1/0}break}default:{f=1/0;break}}return c=K(c,f,r,A,p,o,d,s,y),g=i(g,u),{monitorState:g,actionsById:p,nextActionId:a,stagedActionIds:o,skippedActionIds:d,committedState:A,currentStateIndex:h,computedStates:c,isLocked:R,isPaused:y}}}var ye=(()=>{let t=class t{constructor(i,n,r,l,u,g,p,a){let o=hi(p,a.monitor),d=fi(p,o,g,a.monitor,a),A=nt(nt(n.asObservable().pipe(Ft(1)),l.actions$).pipe(N(U)),i,l.liftedActions$).pipe(Nt(Ct)),h=r.pipe(N(d)),c=ke(a.connectInZone),R=new xt(1);this.liftedStateSubscription=A.pipe(k(h),Ae(c),zt(({state:w},[f,E])=>{let m=E(w,f);return f.type!==L&&ze(a)&&(m=ui(m,a.predicate,a.actionsSafelist,a.actionsBlocklist)),l.notify(f,m),{state:m,action:f}},{state:o,action:null})).subscribe(({state:w,action:f})=>{if(R.next(w),f.type===L){let E=f.action;u.next(E)}}),this.extensionStartSubscription=l.start$.pipe(Ae(c)).subscribe(()=>{this.refresh()});let y=R.asObservable(),v=y.pipe(N(Pe));Object.defineProperty(v,"state",{value:re(v,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=i,this.liftedState=y,this.state=v}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(i){this.dispatcher.next(i)}next(i){this.dispatcher.next(i)}error(i){}complete(){}performAction(i){this.dispatch(new z(i,+Date.now()))}refresh(){this.dispatch(new lt)}reset(){this.dispatch(new pt(+Date.now()))}rollback(){this.dispatch(new ht(+Date.now()))}commit(){this.dispatch(new ft(+Date.now()))}sweep(){this.dispatch(new dt)}toggleAction(i){this.dispatch(new mt(i))}jumpToAction(i){this.dispatch(new Et(i))}jumpToState(i){this.dispatch(new gt(i))}importState(i){this.dispatch(new St(i))}lockChanges(i){this.dispatch(new yt(i))}pauseRecording(i){this.dispatch(new At(i))}};t.\u0275fac=function(n){return new(n||t)(S(X),S(G),S(ae),S(Fe),S(ue),S(H),S(se),S(Z))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})();function Ae({ngZone:e,connectInZone:t}){return s=>t?new et(i=>s.subscribe({next:n=>e.run(()=>i.next(n)),error:n=>e.run(()=>i.error(n)),complete:()=>e.run(()=>i.complete())})):s}var di=new C("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function mi(e,t){return!!e||t.monitor!==Me}function gi(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function Ei(e){return e.state}function Le(e={}){return B([Fe,X,ye,{provide:ge,useValue:e},{provide:di,deps:[It,Z],useFactory:mi},{provide:It,useFactory:gi},{provide:Z,deps:[ge],useFactory:oi},{provide:le,deps:[ye],useFactory:Ei},{provide:ce,useExisting:X}])}var He="@ngrx/router-store/request",Bi=D(He,j()),Ge="@ngrx/router-store/navigation",Hi=D(Ge,j()),Ve="@ngrx/router-store/cancel",Gi=D(Ve,j()),Ke="@ngrx/router-store/error",Vi=D(Ke,j()),qe="@ngrx/router-store/navigated",Ki=D(qe,j());var W=class{serialize(t){return{root:this.serializeRoute(t.root),url:t.url}}serializeRoute(t){let s=t.children.map(i=>this.serializeRoute(i));return{params:t.params,data:t.data,url:t.url,outlet:t.outlet,title:t.title,routeConfig:t.routeConfig?{path:t.routeConfig.path,pathMatch:t.routeConfig.pathMatch,redirectTo:t.routeConfig.redirectTo,outlet:t.routeConfig.outlet,title:typeof t.routeConfig.title=="string"?t.routeConfig.title:void 0}:null,queryParams:t.queryParams,fragment:t.fragment,firstChild:s[0],children:s}}},Ot=function(e){return e[e.PreActivation=1]="PreActivation",e[e.PostActivation=2]="PostActivation",e}(Ot||{}),Si="router",_e=new C("@ngrx/router-store Internal Configuration"),Ze=new C("@ngrx/router-store Configuration"),Tt=function(e){return e[e.Full=0]="Full",e[e.Minimal=1]="Minimal",e}(Tt||{});function yi(e){return x({stateKey:Si,serializer:W,navigationActionTiming:Ot.PreActivation},e)}var Q=class{serialize(t){return{root:this.serializeRoute(t.root),url:t.url}}serializeRoute(t){let s=t.children.map(i=>this.serializeRoute(i));return{params:t.params,paramMap:t.paramMap,data:t.data,url:t.url,outlet:t.outlet,title:t.title,routeConfig:t.routeConfig?{component:t.routeConfig.component,path:t.routeConfig.path,pathMatch:t.routeConfig.pathMatch,redirectTo:t.routeConfig.redirectTo,outlet:t.routeConfig.outlet,title:t.routeConfig.title}:null,queryParams:t.queryParams,queryParamMap:t.queryParamMap,fragment:t.fragment,component:t.routeConfig?t.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:s[0],pathFromRoot:void 0,children:s}}},J=class{},O=function(e){return e[e.NONE=1]="NONE",e[e.ROUTER=2]="ROUTER",e[e.STORE=3]="STORE",e}(O||{}),$e=(()=>{let t=class t{constructor(i,n,r,l,u,g){this.store=i,this.router=n,this.serializer=r,this.errorHandler=l,this.config=u,this.activeRuntimeChecks=g,this.lastEvent=null,this.routerState=null,this.trigger=O.NONE,this.stateKey=this.config.stateKey,!fe()&&qt()&&(g?.strictActionSerializability||g?.strictStateSerializability)&&this.serializer instanceof Q&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe(he(this.stateKey),k(this.store)).subscribe(([i,n])=>{this.navigateIfNeeded(i,n)})}navigateIfNeeded(i,n){if(!i||!i.state||this.trigger===O.ROUTER||this.lastEvent instanceof st)return;let r=i.state.url;Ai(this.router.url,r)||(this.storeState=n,this.trigger=O.STORE,this.router.navigateByUrl(r).catch(l=>{this.errorHandler.handleError(l)}))}setUpRouterEventsListener(){let i=this.config.navigationActionTiming===Ot.PostActivation,n;this.router.events.pipe(k(this.store)).subscribe(([r,l])=>{this.lastEvent=r,r instanceof st?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==O.STORE&&(this.storeState=l,this.dispatchRouterRequest(r))):r instanceof at?(n=r,!i&&this.trigger!==O.STORE&&this.dispatchRouterNavigation(r)):r instanceof Yt?(this.dispatchRouterCancel(r),this.reset()):r instanceof ot?(this.dispatchRouterError(r),this.reset()):r instanceof Jt&&(this.trigger!==O.STORE&&(i&&this.dispatchRouterNavigation(n),this.dispatchRouterNavigated(r)),this.reset())})}dispatchRouterRequest(i){this.dispatchRouterAction(He,{event:i})}dispatchRouterNavigation(i){let n=this.serializer.serialize(i.state);this.dispatchRouterAction(Ge,{routerState:n,event:new at(i.id,i.url,i.urlAfterRedirects,n)})}dispatchRouterCancel(i){this.dispatchRouterAction(Ve,{storeState:this.storeState,event:i})}dispatchRouterError(i){this.dispatchRouterAction(Ke,{storeState:this.storeState,event:new ot(i.id,i.url,`${i}`)})}dispatchRouterNavigated(i){let n=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(qe,{event:i,routerState:n})}dispatchRouterAction(i,n){this.trigger=O.ROUTER;try{this.store.dispatch({type:i,payload:b(x({routerState:this.routerState},n),{event:this.config.routerState===Tt.Full?n.event:{id:n.event.id,url:n.event.url,urlAfterRedirects:n.event.urlAfterRedirects}})})}finally{this.trigger=O.NONE}}reset(){this.trigger=O.NONE,this.storeState=null,this.routerState=null}};t.\u0275fac=function(n){return new(n||t)(S(pe),S(ee),S(J),S(H),S(Ze),S(oe))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})();function Ai(e,t){return Be(e)===Be(t)}function Be(e){return e?.length>0&&e[e.length-1]==="/"?e.substring(0,e.length-1):e}function Xe(e={}){return B([{provide:_e,useValue:e},{provide:Ze,useFactory:yi,deps:[_e]},{provide:J,useClass:e.serializer?e.serializer:e.routerState===Tt.Full?Q:W},Ut(()=>$($e)),$e])}var We=(e,t)=>{if(!e.url.startsWith(F.tmdbApiURL))return t(e);let s=e.clone({setHeaders:{accept:"application/json",Authorization:`Bearer ${F.tmdbApiKey}`}});return t(s)};var Qe=[{path:"popular",loadChildren:()=>import("./chunk-SFNLKJWH.js").then(e=>e.popularMoviesRoutes)},{path:"**",redirectTo:"popular"}];var Ii=[ie(Qe,ne()),Xt(Qt(),Wt([We]))],Je=[de({}),me([]),Xe()];F.configuration==="dev"&&Je.push(Le({maxAge:25,logOnly:!1}));var Ye={providers:[Lt(),Kt({eventCoalescing:!0}),...Ii,...Je]};var Y=class e{static \u0275fac=function(s){return new(s||e)};static \u0275cmp=$t({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(s,i){s&1&&(Ht(0,"main"),Vt(1,"router-outlet"),Gt())},dependencies:[te],encapsulation:2})};Zt(Y,Ye).catch(e=>console.error(e));
